(o=>{var r,i,s,a,u,c=o.trim(i18n.translateResource("cms:hotkey.hint",{data:[""]})),t=function(t,e,n){h(".top-right-button-group a, .page-content a.btn, .page-content .nav-tabs a",!0,e,n)},e=function(t,e,n){h(".nav a",!1,e,n)},h=function(t,e,n,i){var s=i.local;o(t).each(function(){var t,e=r(o(this)),n=!1;if(!o.isEmptyObject(e)){for(t=0;t<s.length&&!(n=a(e,s[t]));t++);n||s.push(e)}}),s.length&&(n.bh=new Bloodhound(o.extend({},{datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t.text)},queryTokenizer:Bloodhound.tokenizers.whitespace,local:s},i.bloodhoundOptions)),e?(i.typeaheadOptions.minLength=0,i.typeaheadOptions.source=function(t,e){""===t?e(s):n.bh.ttAdapter()(t,e)}):i.typeaheadOptions.source=n.bh.ttAdapter())};o("#preside-launcher-input").on("preparethispageDatasource",t),o("#preside-launcher-input").on("preparenavigationDatasource",e),r=function(t){var e,n={};try{e=t.attr("href")}catch(t){return n}return t.hasClass("object-listing-data-export-button")||void 0===e||!e.length||0==e.indexOf("#")||(n={id:e,text:o.trim(t.text()),icon:i(t),shortcut:s(t),linkElement:t,description:u(t),url:""}).shortcut.length||n.description.length||(n.description=o.trim(t.attr("title")),n.description===c&&(n.description="")),n},i=function(t,e){var n=t.parents(".submenu").prev();if(n.length&&(n=i(n,"")).length)return n;void 0===e&&(e="fa-link");n=t.find(".fa").first();return n.length?n.attr("class"):e},s=function(t){var e=t.data("globalKey");return e&&e.length?i18n.translateResource("cms:hotkey.hint",{data:[e]}):(e=t.data("gotoKey"))&&e.length?i18n.translateResource("cms:hotkey.hint",{data:["g+"+e]}):""},u=function(t){for(var e=[],n=t.parents(".submenu,.dropdown-menu").first().prev();n.length;)e.unshift(o.trim(n.text())),n=n.parents(".submenu").prev();return e.length&&e.push(o.trim(t.text())),e.join(' <i class="fa fa-fw fa-angle-double-right"></i> ')},a=function(t,e){return t.id==e.id&&t.icon==e.icon&&t.shortcut==e.shortcut}})(presideJQuery),(a=>{var t,u={isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(t){return void 0===t},toStr:function(t){return u.isUndefined(t)||null===t?"":t+""},bind:a.proxy,each:function(t,n){a.each(t,function(t,e){return n(e,t)})},map:a.map,filter:a.grep,every:function(n,i){var s=!0;return n?(a.each(n,function(t,e){if(!(s=i.call(null,e,t,n)))return!1}),!!s):s},some:function(n,i){var s=!1;return n?(a.each(n,function(t,e){if(s=i.call(null,e,t,n))return!1}),!!s):s},mixin:a.extend,getUniqueId:(t=0,function(){return t++}),templatify:function(t){return a.isFunction(t)?t:function(){return String(t)}},defer:function(t){setTimeout(t,0)},debounce:function(s,o,r){var a,u;return function(){var t=this,e=arguments,n=function(){a=null,r||(u=s.apply(t,e))},i=r&&!a;return clearTimeout(a),a=setTimeout(n,o),u=i?s.apply(t,e):u}},throttle:function(n,i){var s,o,r,a,u=0,c=function(){u=new Date,r=null,a=n.apply(s,o)};return function(){var t=new Date,e=i-(t-u);return s=this,o=arguments,e<=0?(clearTimeout(r),r=null,u=t,a=n.apply(s,o)):r=r||setTimeout(c,e),a}},noop:function(){}},c={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'},h=(n={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}},u.isMsie()&&u.mixin(n.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),u.isMsie()&&u.isMsie()<=7&&u.mixin(n.input,{marginTop:"-1px"}),n),o=(u.mixin(e.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger("typeahead:"+t,e)}}),e);function e(t){t&&t.el||a.error("EventBus initialized without el"),this.$el=a(t.el)}l=/\s+/,r=(()=>window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)})();var l,r,n={onSync:function(t,e,n){return i.call(this,"sync",t,e,n)},onAsync:function(t,e,n){return i.call(this,"async",t,e,n)},off:function(t){var e;if(this._callbacks)for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this},trigger:function(t){var e,n,i,s;if(this._callbacks)for(t=t.split(l),n=[].slice.call(arguments,1);(s=t.shift())&&(e=this._callbacks[s]);)i=d(e.sync,this,[s].concat(n)),s=d(e.async,this,[s].concat(n)),i()&&r(s);return this}};function i(t,e,n,i){var s,o,r;if(n)for(e=e.split(l),n=i?(r=i,(o=n).bind?o.bind(r):function(){o.apply(r,[].slice.call(arguments,0))}):n,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(n);return this}function d(i,s,o){return function(){for(var t,e=0,n=i.length;!t&&e<n;e+=1)t=!1===i[e].apply(s,o);return!t}}p=window.document,g={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};var p,g,f,m=function(s){var o;(s=u.mixin({},g,s)).node&&s.pattern&&(s.pattern=u.isArray(s.pattern)?s.pattern:[s.pattern],o=((t,e,n)=>{for(var i=[],s=0,o=t.length;s<o;s++)i.push(u.escapeRegExChars(t[s]));return n=n?"\\b("+i.join("|")+")\\b":"("+i.join("|")+")",e?new RegExp(n):new RegExp(n,"i")})(s.pattern,s.caseSensitive,s.wordsOnly),function t(e,n){var i;for(var s=0;s<e.childNodes.length;s++)3===(i=e.childNodes[s]).nodeType?s+=n(i)?1:0:t(i,n)}(s.node,function(t){var e,n,i;(e=o.exec(t.data))&&(i=p.createElement(s.tagName),s.className&&(i.className=s.className),(n=t.splitText(e.index)).splitText(e[0].length),i.appendChild(n.cloneNode(!0)),t.parentNode.replaceChild(i,n));return!!e}))},y=(f={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},s.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},u.mixin(s.prototype,n,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=f[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var n,i,s;switch(t){case"tab":i=this.getHint(),s=this.getInputValue(),n=i&&i!==s&&!v(e);break;case"up":case"down":n=!v(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){t="tab"!==t||!v(e);return t},_checkInputValue:function(){var t,e,n=this.getInputValue();t=n,e=this.query,e=(t=s.normalizeQuery(t)===s.normalizeQuery(e))&&this.query.length!==n.length,this.query=n,t?e&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),e?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t=this.getInputValue(),e=this.getHint(),e=t!==e&&0===e.indexOf(t);""!==t&&e&&!this.hasOverflow()||this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t=this.$input.val().length,e=this.$input[0].selectionStart;return u.isNumber(e)?e===t:!document.selection||((e=document.selection.createRange()).moveStart("character",-t),t===e.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),s);function s(t){var e,n,i,s,o=this;(t=t||{}).input||a.error("input is missing"),e=u.bind(this._onBlur,this),n=u.bind(this._onFocus,this),i=u.bind(this._onKeydown,this),s=u.bind(this._onInput,this),this.$hint=a(t.hint),this.$input=a(t.input).on("blur.tt",e).on("focus.tt",n).on("keydown.tt",i),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=u.noop),u.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){f[t.which||t.keyCode]||u.defer(u.bind(o._onInput,o,t))}):this.$input.on("input.tt",s),this.query=this.$input.val(),this.$overflowHelper=(t=this.$input,a('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t))}function v(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}w="ttDataset",_="ttValue",b="ttDatum",C.extractDatasetName=function(t){return a(t).data(w)},C.extractValue=function(t){return a(t).data(_)},C.extractDatum=function(t){return a(t).data(b)},u.mixin(C.prototype,n,{_render:function(t,e){var n,i,s;function o(){return n.templates.header({query:t,isEmpty:!i})}function r(){return n.templates.footer({query:t,isEmpty:!i})}this.$el&&((n=this).$el.empty(),!(i=e&&e.length)&&this.templates.empty?this.$el.html(n.templates.empty({query:t,isEmpty:!0})).prepend(n.templates.header?o():null).append(n.templates.footer?r():null):i&&this.$el.html((s=a(c.suggestions).css(h.suggestions),e=u.map(e,function(t){return(t=a(c.suggestion).append(n.templates.suggestion(t)).data(w,n.name).data(_,n.displayFn(t)).data(b,t)).children().each(function(){a(this).css(h.suggestionChild)}),t}),s.append.apply(s,e),n.highlight&&m({className:"tt-highlight",node:s[0],pattern:t}),s)).prepend(n.templates.header?o():null).append(n.templates.footer?r():null),this.trigger("rendered"))},getRoot:function(){return this.$el},update:function(e){var n=this;void 0!==this.minLength&&e.length<this.minLength||(this.query=e,this.canceled=!1,this.source(e,function(t){n.canceled||e!==n.query||n._render(e,t)}))},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}});var w,_,b,k=C;function C(t){var e,n;(t=t||{}).templates=t.templates||{},t.source||a.error("missing source"),t.name&&!/^[_a-zA-Z0-9-]+$/.test(t.name)&&a.error("invalid dataset name: "+t.name),this.query=null,this.highlight=!!t.highlight,this.name=t.name||u.getUniqueId(),this.source=t.source,this.minLength=t.minLength,this.displayFn=(e=(e=t.display||t.displayKey)||"value",u.isFunction(e)?e:function(t){return t[e]}),this.templates=(t=t.templates,n=this.displayFn,{empty:t.empty&&u.templatify(t.empty),header:t.header&&u.templatify(t.header),footer:t.footer&&u.templatify(t.footer),suggestion:t.suggestion||function(t){return"<p>"+n(t)+"</p>"}}),this.$el=a(c.dataset.replace("%CLASS%",this.name))}u.mixin(S.prototype,n,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",a(t.currentTarget))},_onSuggestionMouseEnter:function(t){this._removeCursor(),this._setCursor(a(t.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){this.isEmpty=u.every(this.datasets,function(t){return t.isEmpty()}),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(t,e){t.first().addClass("tt-cursor"),e||this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(t){var e,n;this.isOpen&&(n=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),-1===(n=((n=e.index(n)+t)+1)%(e.length+1)-1)?this.trigger("cursorRemoved"):(n<-1&&(n=e.length-1),this._setCursor(t=e.eq(n)),this._ensureVisible(t)))},_ensureVisible:function(t){var e=t.position().top,t=e+t.outerHeight(!0),n=this.$menu.scrollTop(),i=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10);e<0?this.$menu.scrollTop(n+e):i<t&&this.$menu.scrollTop(n+(t-i))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,this.isEmpty||this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?h.ltr:h.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return e=t.length?{raw:k.extractDatum(t),value:k.extractValue(t),datasetName:k.extractDatasetName(t)}:e},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(e){u.each(this.datasets,function(t){t.update(e)})},empty:function(){u.each(this.datasets,function(t){t.clear()}),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){this.$menu.off(".tt"),this.$menu=null,u.each(this.datasets,function(t){t.destroy()})}});var A=S;function S(t){var e,n,i,s=this;(t=t||{}).menu||a.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=u.map(t.datasets,$),e=u.bind(this._onSuggestionClick,this),n=u.bind(this._onSuggestionMouseEnter,this),i=u.bind(this._onSuggestionMouseLeave,this),this.$menu=a(t.menu).on("click.tt",".tt-suggestion",e).on("mouseenter.tt",".tt-suggestion",n).on("mouseleave.tt",".tt-suggestion",i),u.each(this.datasets,function(t){s.$menu.append(t.getRoot()),t.onSync("rendered",s._onRendered,s)})}function $(t){return new k(t)}x="ttAttrs",u.mixin(L.prototype,{_onSuggestionClicked:function(t,e){(e=this.dropdown.getDatumForSuggestion(e))&&this._select(e)},_onCursorMoved:function(){var t=this.dropdown.getDatumForCursor();this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(t,e){var n=this.dropdown.getDatumForCursor(),i=this.dropdown.getDatumForTopSuggestion();n?(this._select(n),e.preventDefault()):this.autoselect&&i&&(this._select(i),e.preventDefault())},_onTabKeyed:function(t,e){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,e,n=this.dropdown.getDatumForTopSuggestion();n&&this.dropdown.isVisible()&&!this.input.hasOverflow()&&(t=this.input.getInputValue(),a.trim(t).length)&&(e=y.normalizeQuery(t),e=u.escapeRegExChars(e),e=new RegExp("^(?:"+e+")(.+$)","i").exec(n.value))?this.input.setHint(t+e[1]):this.input.clearHint()},_autocomplete:function(t){var e=this.input.getHint(),n=this.input.getQuery(),t=t||this.input.isCursorAtEnd();e&&n!==e&&t&&((n=this.dropdown.getDatumForTopSuggestion())&&this.input.setInputValue(n.value),this.eventBus.trigger("autocompleted",n.raw,n.datasetName))},_select:function(t){this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",t.raw,t.datasetName),this.dropdown.close(),u.defer(u.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){t=u.toStr(t),this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){var t,n;this.input.destroy(),this.dropdown.destroy(),t=this.$node,n=t.find(".tt-input"),u.each(n.data(x),function(t,e){u.isUndefined(t)?n.removeAttr(e):n.attr(e,t)}),n.detach().removeData(x).removeClass("tt-input").insertAfter(t),t.remove(),this.$node=null}});var x,D,T,I,E=L;function L(t){var i,s,e;(t=t||{}).input||a.error("missing input"),this.isActivated=!1,this.autoselect=!!t.autoselect,this.minLength=u.isNumber(t.minLength)?t.minLength:1,this.$node=((t,e)=>{var n,i,s;t=a(t),n=a(c.wrapper).css(h.wrapper),i=a(c.dropdown).css(h.dropdown),(s=t.clone().css(h.hint).css((t=>({backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}))(t))).val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),t.data(x,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(e?h.input:h.inputWithNoHint);try{t.attr("dir")||t.attr("dir","auto")}catch(t){}return t.wrap(n).parent().prepend(e?s:null).append(i)})(t.input,t.withHint),i=this.$node.find(".tt-dropdown-menu"),s=this.$node.find(".tt-input"),e=this.$node.find(".tt-hint"),s.on("blur.tt",function(t){var e=document.activeElement,n=i.is(e),e=0<i.has(e).length;u.isMsie()&&(n||e)&&(t.preventDefault(),t.stopImmediatePropagation(),u.defer(function(){s.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()}),this.eventBus=t.eventBus||new o({el:s}),this.dropdown=new A({menu:i,datasets:t.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new y({input:s,hint:e}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}D=a.fn.launcherTypeahead,T="ttTypeahead",I={initialize:function(n,i){return i=u.isArray(i)?i:[].slice.call(arguments,1),n=n||{},this.each(function(){var t,e=a(this);u.each(i,function(t){t.highlight=!!n.highlight}),t=new E({input:e,eventBus:new o({el:e}),withHint:!!u.isUndefined(n.hint)||!!n.hint,minLength:n.minLength,autoselect:n.autoselect,datasets:i}),e.data(T,t)})},open:function(){return this.each(function(){var t=a(this);(t=t.data(T))&&t.open()})},close:function(){return this.each(function(){var t=a(this);(t=t.data(T))&&t.close()})},val:function(e){var t,n;return arguments.length?this.each(function(){var t=a(this);(t=t.data(T))&&t.setVal(e)}):(t=this.first(),n=(t=t.data(T))?t.getVal():n)},destroy:function(){return this.each(function(){var t,e=a(this);(t=e.data(T))&&(t.destroy(),e.removeData(T))})},clearHint:function(){}},a.fn.launcherTypeahead=function(t){var e;return I[t]&&"initialize"!==t?(e=this.filter(function(){return!!a(this).data(T)}),I[t].apply(e,[].slice.call(arguments,1))):I.initialize.apply(this,arguments)},a.fn.launcherTypeahead.noConflict=function(){return a.fn.launcherTypeahead=D,this}})(window.presideJQuery),(s=>{var t,i,e,n,o,r,a,u,c,h,l,d,p,g,f,m,y,v=s("#preside-launcher-input"),w=v.closest(".launcher-menu"),_=w.find(".launcher-results-footer").first(),b=cfrequest.launcherDatasources,k=[];setupTemplates=function(){f='<div class="launcher-result-container"><i class="fa fa-fw {{icon}}"></i> <span class="title">{{{text}}}</span><br><em class="subtitle">{{{description}}}</em></div>',m='<div class="launcher-result-container"><i class="fa fa-fw {{icon}}"></i> <span class="title">{{{text}}}</span><code class="pull-right"><i class="fa fa-fw fa-keyboard-o"></i> {{shortcut}}</code>'},t=function(){if(void 0===b||!s.isArray(b)||!b.length)return w.remove(),!1;for(var t,e=b.length,n=0;n<e;n++)"object"==typeof(t=i(b[n]))&&k.push(t);return!0},i=function(n){var i,t={bh:null};if(n.javascriptSrc,n.javascriptSrc){if(v.trigger("prepare"+n.id+"Datasource",[t,n]),"object"!=typeof t.bh||null==t.bh)return;i=t.bh}else if(n.local,s.isArray(n.local)&&n.local.length)i=new Bloodhound(s.extend({},{datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t.text)},queryTokenizer:Bloodhound.tokenizers.whitespace,local:n.local},n.bloodhoundOptions));else{if(n.remoteUrl,!n.remoteUrl.length)return;i=new Bloodhound(s.extend({},{datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t.text)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:n.remoteUrl,prefetch:void 0===n.prefetchUrl?null:n.prefetchUrl,dupDetector:function(t,e){return t.id==e.id}},n.bloodhoundOptions))}return i.initialize(),t=n.defaultSuggestions.length?(n.typeaheadOptions.minLength=0,function(t,e){""===t?e(n.defaultSuggestions):i.ttAdapter()(t,e)}):(void 0===n.typeaheadOptions.minLength&&(n.typeaheadOptions.minLength=1),i.ttAdapter()),s.extend({},{name:n.id,source:t,templates:{suggestion:g,header:y(n)},displayKey:"text"},n.typeaheadOptions)},g=function(t){return t.shortcut?Mustache.render(m,t):Mustache.render(f,t)},y=function(t){var e='<h4 class="launcher-result-datasource-header">';return t.iconClass.length&&(e+='<i class="fa fa-fw '+t.iconClass+'"></i> '),e+=t.title+"</h4>"},o=function(){s("body").keyup("/",function(t){t.stopPropagation()}).keydown("/",function(t){a()||l(t)||d(t)})},r=function(){v.on("focus",e),v.on("blur",n)},initializeTypeahead=function(){var t=k;t.unshift({minLength:0,highlight:!0,autoselect:!0}),v.launcherTypeahead.apply(v,t),v.on("typeahead:selected",function(t,e){p(e)}),w.find(".tt-dropdown-menu").append(_),_.removeClass("hide")},d=function(t){t.preventDefault(),v.focus()},e=function(){w.addClass("active");var t=v.data("placeholderLong"),t=(void 0!==t&&t.length&&(v.data("placeholder",v.attr("placeholder")),v.attr("placeholder",t)),s.Event("keydown"));t.keyCode=t.which=40,v.trigger(t)},n=function(){v.launcherTypeahead("val",""),w.removeClass("active");var t=v.data("placeholder");void 0!==t&&t.length&&v.attr("placeholder",t)},p=function(t){void 0!==t.linkElement&&t.linkElement.length?t.linkElement.get(0).click():void 0!==t.url&&t.url.length&&(s("body").presideLoadingSheen(!0),window.location=t.url)},a=function(){var t=s(":focus");return!!u()||!!t.length&&((isInFormField=0<=s.inArray(t.prop("nodeName"),["INPUT","TEXTAREA"])&&-1===s.inArray(t.prop("type").toLowerCase(),["checkbox","radio","submit","button"]))||void 0)},c=function(){return"undefined"!=typeof presideTerminal},h=function(){return presideTerminal},u=function(){return c()&&h().enabled()},l=function(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey},setupTemplates(),t()&&(o(),r(),initializeTypeahead())})(presideJQuery);
//# sourceMappingURL=_launcher.min.map